<!-- Friend Group Creation Modal -->
<div id="createGroupModal"
     class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 hidden">
    <div class="bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4 border border-gray-700">
        <h3 class="text-2xl font-bold text-white mb-6">Create Friend Group</h3>

        <div class="space-y-4">
            <div>
                <label class="block text-gray-300 text-sm font-medium mb-2">Group Name</label>
                <input
                        type="text"
                        id="groupName"
                        class="w-full bg-gray-900 text-white rounded-lg px-4 py-3 border border-gray-700 focus:border-primary/50 focus:outline-none"
                        placeholder="Enter group name"
                >
            </div>

            <div>
                <label class="block text-gray-300 text-sm font-medium mb-2">Group Type</label>
                <select
                        id="groupType"
                        class="w-full bg-gray-900 text-white rounded-lg px-4 py-3 border border-gray-700 focus:border-primary/50 focus:outline-none"
                >
                    <option value="mixed">Mixed (Chat + Babel)</option>
                    <option value="chat_only">Chat Only</option>
                    <option value="babel_only">Babel Only</option>
                </select>
            </div>
        </div>

        <div class="flex gap-4 mt-8">
            <button
                    onclick="closeModal()"
                    class="flex-1 bg-gray-700 text-white py-3 rounded-lg hover:bg-gray-600 transition-colors"
            >
                Cancel
            </button>
            <button
                    onclick="createGroup()"
                    class="flex-1 bg-primary text-white py-3 rounded-lg hover:bg-red-700 transition-colors"
            >
                Create Group
            </button>
        </div>
    </div>
</div>

<!-- Profile Picture Upload Modal -->
<div id="profilePictureModal"
     class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 hidden">
    <div class="bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4 border border-gray-700">
        <h3 class="text-2xl font-bold text-white mb-6">Update Profile Picture</h3>

        <div class="space-y-4">
            <!-- Current Picture Preview -->
            <div class="flex justify-center mb-4">
                <div id="modalProfilePreview"
                     class="w-32 h-32 rounded-full bg-primary/10 flex items-center justify-center border-2 border-gray-700 overflow-hidden">
                    <img id="modalProfileImage"
                         class="w-full h-full object-cover rounded-full hidden"
                         alt="Profile Preview">
                    <div id="modalProfilePlaceholder"
                         class="flex flex-col items-center justify-center">
                        <i class="ri-user-3-line text-3xl text-primary mb-2"></i>
                        <span class="text-sm text-gray-400">No Photo</span>
                    </div>
                </div>
            </div>

            <!-- File Upload -->
            <div>
                <label class="block text-gray-300 text-sm font-medium mb-2">Choose Photo</label>
                <input
                        type="file"
                        id="profilePictureInput"
                        accept="image/*"
                        class="w-full bg-gray-900 text-white rounded-lg px-4 py-3 border border-gray-700 focus:border-primary/50 focus:outline-none file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:bg-primary file:text-white hover:file:bg-red-700"
                        onchange="previewProfilePicture(this)"
                >
                <p class="text-xs text-gray-400 mt-2">Recommended: Square image, at least
                    200x200px</p>
            </div>
        </div>

        <div class="flex gap-4 mt-8">
            <button
                    onclick="closeProfilePictureModal()"
                    class="flex-1 bg-gray-700 text-white py-3 rounded-lg hover:bg-gray-600 transition-colors"
            >
                Cancel
            </button>
            <button
                    onclick="uploadProfilePicture()"
                    class="flex-1 bg-primary text-white py-3 rounded-lg hover:bg-red-700 transition-colors"
                    id="uploadProfileBtn"
                    disabled
            >
                Upload Photo
            </button>
        </div>
    </div>
</div>

<!-- Translation Review Contribution Modal -->
<div id="translationReviewModal"
     class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 hidden">
    <div class="bg-gray-800 rounded-2xl p-8 max-w-2xl w-full mx-4 border border-gray-700 max-h-[90vh] overflow-y-auto">
        <div class="flex items-center justify-between mb-6">
            <h3 class="text-2xl font-bold text-white">Help Improve Translations</h3>
            <button onclick="closeTranslationReviewModal()"
                    class="text-gray-400 hover:text-white transition-colors">
                <i class="ri-close-line text-xl"></i>
            </button>
        </div>

        <div class="space-y-6">
            <!-- Introduction -->
            <div class="bg-green-500/10 border border-green-500/20 rounded-lg p-4">
                <div class="flex items-center gap-2 mb-2">
                    <i class="ri-community-line text-green-400"></i>
                    <h4 class="text-green-400 font-medium">Community Translation Review</h4>
                </div>
                <p class="text-sm text-gray-300">
                    Help millions of users communicate better by reviewing and improving
                    translations.
                    Your contributions are reviewed by our team and integrated into the system.
                </p>
            </div>

            <!-- Form -->
            <form id="translationReviewForm" class="space-y-4">
                <div>
                    <label class="block text-gray-300 text-sm font-medium mb-2">
                        Original Text <span class="text-red-400">*</span>
                    </label>
                    <textarea
                            id="originalTextInput"
                            class="w-full bg-gray-900 text-white rounded-lg px-4 py-3 border border-gray-700 focus:border-green-500/50 focus:outline-none resize-none min-h-[80px]"
                            placeholder="Enter the original text you want to improve the translation for..."
                            required
                            maxlength="500"
                    ></textarea>
                    <div class="text-xs text-gray-400 mt-1">
                        <span id="originalTextCount">0</span>/500 characters
                    </div>
                </div>

                <div>
                    <label class="block text-gray-300 text-sm font-medium mb-2">
                        Current Translation (Optional)
                    </label>
                    <textarea
                            id="currentTranslationInput"
                            class="w-full bg-gray-900 text-white rounded-lg px-4 py-3 border border-gray-700 focus:border-green-500/50 focus:outline-none resize-none min-h-[80px]"
                            placeholder="What translation is currently being shown? (if any)"
                            maxlength="500"
                    ></textarea>
                    <div class="text-xs text-gray-400 mt-1">
                        <span id="currentTranslationCount">0</span>/500 characters
                    </div>
                </div>

                <div>
                    <label class="block text-gray-300 text-sm font-medium mb-2">
                        Your Suggested Translation <span class="text-red-400">*</span>
                    </label>
                    <textarea
                            id="suggestedTranslationInput"
                            class="w-full bg-gray-900 text-white rounded-lg px-4 py-3 border border-gray-700 focus:border-green-500/50 focus:outline-none resize-none min-h-[80px]"
                            placeholder="Enter your improved translation..."
                            required
                            maxlength="500"
                    ></textarea>
                    <div class="text-xs text-gray-400 mt-1">
                        <span id="suggestedTranslationCount">0</span>/500 characters
                    </div>
                </div>

                <div>
                    <label class="block text-gray-300 text-sm font-medium mb-2">
                        Target Language <span class="text-red-400">*</span>
                    </label>
                    <select
                            id="targetLanguageSelect"
                            class="w-full bg-gray-900 text-white rounded-lg px-4 py-3 border border-gray-700 focus:border-green-500/50 focus:outline-none"
                            required
                    >
                        <option value="">Select target language</option>
                        <option value="es">Spanish</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="it">Italian</option>
                        <option value="pt">Portuguese</option>
                        <option value="ru">Russian</option>
                        <option value="ja">Japanese</option>
                        <option value="ko">Korean</option>
                        <option value="zh">Chinese</option>
                        <option value="ar">Arabic</option>
                        <option value="hi">Hindi</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div>
                    <label class="block text-gray-300 text-sm font-medium mb-2">
                        Additional Context (Optional)
                    </label>
                    <textarea
                            id="contextInput"
                            class="w-full bg-gray-900 text-white rounded-lg px-4 py-3 border border-gray-700 focus:border-green-500/50 focus:outline-none resize-none min-h-[60px]"
                            placeholder="Any additional context about the translation, cultural nuances, or specific usage..."
                            maxlength="300"
                    ></textarea>
                    <div class="text-xs text-gray-400 mt-1">
                        <span id="contextCount">0</span>/300 characters
                    </div>
                </div>

                <!-- Error Display -->
                <div id="translationFormError"
                     class="hidden bg-red-500/10 border border-red-500/20 rounded-lg p-3">
                    <div class="flex items-center gap-2">
                        <i class="ri-error-warning-line text-red-400"></i>
                        <span class="text-red-400 font-medium">Error</span>
                    </div>
                    <p class="text-sm text-red-300 mt-1" id="translationFormErrorMessage"></p>
                </div>

                <!-- Success Display -->
                <div id="translationFormSuccess"
                     class="hidden bg-green-500/10 border border-green-500/20 rounded-lg p-3">
                    <div class="flex items-center gap-2">
                        <i class="ri-check-line text-green-400"></i>
                        <span class="text-green-400 font-medium">Success</span>
                    </div>
                    <p class="text-sm text-green-300 mt-1" id="translationFormSuccessMessage"></p>
                </div>
            </form>
        </div>

        <div class="flex gap-4 mt-8">
            <button
                    onclick="closeTranslationReviewModal()"
                    class="flex-1 bg-gray-700 text-white py-3 rounded-lg hover:bg-gray-600 transition-colors"
            >
                Cancel
            </button>
            <button
                    onclick="submitTranslationReview()"
                    class="flex-1 bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 transition-colors"
                    id="submitTranslationBtn"
            >
                Submit Translation
            </button>
        </div>
    </div>
</div>